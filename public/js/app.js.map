{"version":3,"sources":["js/app.js","js/controllers/auth.js","js/directives/googleMap.js","js/controllers/main.js","js/router.js","js/models/space.js","js/controllers/spaces.js","js/models/user.js","js/controllers/users.js"],"names":["Auth","$authProvider","API_URL","loginUrl","signupUrl","tokenPrefix","RegisterController","$auth","$state","submit","signup","register","user","then","go","this","LoginController","login","credentials","authenticate","provider","res","console","log","googleMap","$window","restrict","replace","template","scope","spaces","link","$scope","element","clearMarkers","markers","forEach","marker","setMap","map","google","maps","Map","center","lat","lng","zoom","scrollwheel","styles","elementType","stylers","hue","saturation","lightness","gamma","featureType","weight","infoWindow","$watch","$resolved","space","Marker","position","animation","Animation","DROP","addListener","close","contentString","email","details","image","InfoWindow","content","open","push","googleplace","require","attrs","model","options","types","componentRestrictions","autocomplete","places","Autocomplete","place","getPlace","latlng","geometry","location","toJSON","$setViewValue","val","MainController","$rootScope","logout","secureState","e","toState","toParams","fromState","main","message","containerClass","name","isAuthenticated","attemptedRoute","preventDefault","unprotectedStates","includes","isLoggedIn","$on","Router","$stateProvider","$urlRouterProvider","state","url","templateUrl","controller","otherwise","Space","$resource","id","update","method","SpacesIndexController","spacesIndex","all","query","SpacesNewController","create","save","spacesNew","user_id","getPayload","SpacesShowController","User","deleteSpace","remove","reload","spacesShow","get","delete","SpacesEditController","spacesEdit","$update","params","UserProfileController","deleteUser","userProfile","$remove","UserEditController","userEdit","angular","module","constant","config","$inject","directive","factory"],"mappings":"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","file":"app.js","sourcesContent":["angular.module('finalProject', ['ngResource', 'ui.router', 'satellizer'])\n.constant('API_URL', 'http://localhost:3000/api')\n.config(Auth);\n\nAuth.$inject = ['$authProvider', 'API_URL'];\nfunction Auth($authProvider, API_URL) {\n  $authProvider.loginUrl = `${API_URL}/login`;\n  $authProvider.signupUrl = `${API_URL}/register`;\n\n  $authProvider.tokenPrefix = '';\n}\n","angular.module('finalProject')\n.controller('RegisterController', RegisterController)\n.controller('LoginController', LoginController);\n\nRegisterController.$inject = ['$auth', '$state'];\nfunction RegisterController($auth, $state) {\n  const register = this;\n\n  register.user = {};\n\n  function submit() {\n    $auth.signup(register.user)\n    .then(() => {\n      $state.go('home');\n    });\n  }\n\n  register.submit = submit;\n}\n\nLoginController.$inject = ['$auth', '$state'];\nfunction LoginController($auth, $state) {\n  const login = this;\n\n  login.credentials = {};\n\n  function submit() {\n    $auth.login(login.credentials)\n    .then(() => {\n      $state.go('userProfile');\n    });\n  }\n\n  function authenticate(provider) {\n    $auth.authenticate(provider)\n    .then((res) => {\n      console.log(res);\n    });\n  }\n\n  login.submit = submit;\n  login.authenticate = authenticate;\n}\n","angular.module('finalProject')\n.directive('googleMap', googleMap)\n.directive('googleplace', googleplace);\n\n\ngoogleMap.$inject = ['$window'];\nfunction googleMap($window) {\n  return {\n    restrict: 'E',\n    replace: true,\n    template: '<div class=\"google-map\"></div>',\n    scope: {\n      spaces: '='\n    },\n    link: function($scope, element) {\n\n      const map = new $window.google.maps.Map(element[0], {\n        center: {\n          lat: 51.508530,\n          lng: -0.076132\n        },\n        zoom: 9,\n        scrollwheel: false,\n        styles: [\n          {\n            'elementType': 'geometry',\n            'stylers': [\n              {\n                'hue': '#ff4400'\n              },\n              {\n                'saturation': -68\n              },\n              {\n                'lightness': -4\n              },\n              {\n                'gamma': 0.72\n              }\n            ]\n          },\n          {\n            'featureType': 'road',\n            'elementType': 'labels.icon'\n          },\n          {\n            'featureType': 'landscape.man_made',\n            'elementType': 'geometry',\n            'stylers': [\n              {\n                'hue': '#0077ff'\n              },\n              {\n                'gamma': 3.1\n              }\n            ]\n          },\n          {\n            'featureType': 'water',\n            'stylers': [\n              {\n                'hue': '#00ccff'\n              },\n              {\n                'gamma': 0.44\n              },\n              {\n                'saturation': -33\n              }\n            ]\n          },\n          {\n            'featureType': 'poi.park',\n            'stylers': [\n              {\n                'hue': '#44ff00'\n              },\n              {\n                'saturation': -23\n              }\n            ]\n          },\n          {\n            'featureType': 'water',\n            'elementType': 'labels.text.fill',\n            'stylers': [\n              {\n                'hue': '#007fff'\n              },\n              {\n                'gamma': 0.77\n              },\n              {\n                'saturation': 65\n              },\n              {\n                'lightness': 99\n              }\n            ]\n          },\n          {\n            'featureType': 'water',\n            'elementType': 'labels.text.stroke',\n            'stylers': [\n              {\n                'gamma': 0.11\n              },\n              {\n                'weight': 5.6\n              },\n              {\n                'saturation': 99\n              },\n              {\n                'hue': '#0091ff'\n              },\n              {\n                'lightness': -86\n              }\n            ]\n          },\n          {\n            'featureType': 'transit.line',\n            'elementType': 'geometry',\n            'stylers': [\n              {\n                'lightness': -48\n              },\n              {\n                'hue': '#ff5e00'\n              },\n              {\n                'gamma': 1.2\n              },\n              {\n                'saturation': -23\n              }\n            ]\n          },\n          {\n            'featureType': 'transit',\n            'elementType': 'labels.text.stroke',\n            'stylers': [\n              {\n                'saturation': -64\n              },\n              {\n                'hue': '#ff9100'\n              },\n              {\n                'lightness': 16\n              },\n              {\n                'gamma': 0.47\n              },\n              {\n                'weight': 2.7\n              }\n            ]\n          }\n        ]\n      });\n\n      let markers = [];\n      // let allInfoWindows = [];\n      let infoWindow = null;\n\n      function clearMarkers() {\n        markers.forEach((marker) => {\n          marker.setMap(null);\n        });\n        markers = [];\n      }\n\n      $scope.$watch('spaces', () => {\n        clearMarkers();\n        if($scope.spaces.$resolved) {\n          $scope.spaces.forEach((space) => {\n            // console.log(space);\n            if(space.lat && space.lng) {\n              const marker = new\n              $window.google.maps.Marker({\n                position: { lat: space.lat, lng: space.lng },\n                map: map,\n                animation: $window.google.maps.Animation.DROP\n              });\n              marker.addListener('click', () => {\n                if(infoWindow) {\n                  infoWindow.close();\n                }\n\n                const contentString = `\n                <div class=\"container\">\n                  <h3>Contact: <a href=\"mailto:${space.user.email}?subject=Query about your parking space\">${space.user.email}</a></h3>\n                  <p>${space.details}</p>\n                  <img class=\"parking-photo\" src=${space.image}>\n                </div>`;\n\n                infoWindow = new $window.google.maps.InfoWindow({\n                  content: contentString\n                });\n\n                infoWindow.open(map, marker);\n                markers.push(marker);\n              });\n            }\n          });\n        }\n      }, true);\n    }\n  };\n}\n\n\n// Autocomplete BELOW\ngoogleplace.$inject = ['$window'];\nfunction googleplace($window) {\n  return {\n    restrict: 'A',\n    require: 'ngModel',\n    scope: {\n      spaces: '='\n    },\n    link: function(scope, element, attrs, model) {\n      const options = {\n        types: [],\n        componentRestrictions: {}\n      };\n\n      const autocomplete = new $window.google.maps.places.Autocomplete(element[0], options);\n\n      autocomplete.addListener('place_changed', () => {\n        const place = autocomplete.getPlace();\n        const latlng = place.geometry.location.toJSON();\n\n        scope.spaces.lat = latlng.lat;\n        scope.spaces.lng = latlng.lng;\n\n        console.log(place);\n        model.$setViewValue(element.val());\n      });\n    }\n  };\n}\n// Autocomplete ends\n","angular.module('finalProject')\n.controller('MainController', MainController);\n\nMainController.$inject = ['$auth', '$state', '$rootScope'];\nfunction MainController($auth, $state, $rootScope) {\n  const main = this;\n\n  main.isLoggedIn = $auth.isAuthenticated;\n  main.message = null;\n\n  function logout() {\n    $auth.logout()\n    .then(() => {\n      $state.go('home');\n    });\n  }\n  // Ask Mike for seccont explanation\n  // -------------------------------->\n  const unprotectedStates = ['home', 'register', 'login'];\n  let attemptedRoute = null;\n\n  function secureState(e, toState, toParams, fromState) {\n    main.message = null;\n\n    main.containerClass = toState.name !== 'spacesIndex' ? true : false;\n\n    if($auth.isAuthenticated() && attemptedRoute === 'spacesIndex' && toState.name === 'userProfile') {\n      e.preventDefault();\n      $state.go(attemptedRoute);\n      // console.log(attemptedRoute);\n      attemptedRoute = null;\n    }\n\n    if(!$auth.isAuthenticated() && !unprotectedStates.includes(toState.name)) {\n\n      if(fromState.name === 'home') attemptedRoute = toState.name;\n      // console.log(attemptedRoute);\n\n      e.preventDefault();\n      $state.go('login');\n      main.message = 'You must be logged in to go there!';\n    }\n  }\n// <-----------------------------------\n  $rootScope.$on('$stateChangeStart', secureState);\n\n  main.logout = logout;\n}\n","angular.module('finalProject')\n.config(Router);\n\nRouter.$inject = ['$stateProvider', '$urlRouterProvider'];\nfunction Router($stateProvider, $urlRouterProvider) {\n  $stateProvider\n  .state('home', {\n    url: '/',\n    templateUrl: '/templates/landingPage.html'\n  })\n  .state('userProfile', {\n    url: '/profile',\n    templateUrl: '/templates/userProfile.html',\n    controller: 'UserProfileController as userProfile'\n  })\n  .state('usersEdit', {\n    url: '/profile/edit',\n    templateUrl: '/templates/userEdit.html',\n    controller: 'UserEditController as userEdit'\n  })\n  .state('register', {\n    url: '/register',\n    templateUrl: '/templates/register.html',\n    controller: 'RegisterController as register'\n  })\n  .state('login', {\n    url: '/login',\n    templateUrl: '/templates/login.html',\n    controller: 'LoginController as login'\n  })\n  .state('spacesIndex', {\n    url: '/spaces',\n    templateUrl: '/templates/spacesIndex.html',\n    controller: 'SpacesIndexController as spacesIndex'\n  })\n  .state('spacesAdd', {\n    url: '/spaces/add',\n    templateUrl: '/templates/spacesAdd.html',\n    controller: 'SpacesNewController as spacesNew'\n  })\n  .state('spacesEdit', {\n    url: '/spaces/:id/edit',\n    templateUrl: '/templates/spacesEdit.html',\n    controller: 'SpacesEditController as spacesEdit'\n  })\n  .state('spacesShow', {\n    url: '/spaces/show',\n    templateUrl: '/templates/spacesShow.html',\n    controller: 'SpacesShowController as spacesShow'\n  });\n\n  $urlRouterProvider.otherwise('/');\n}\n","angular.module('finalProject')\n.factory('Space', Space);\n\nSpace.$inject = ['$resource', 'API_URL'];\nfunction Space($resource, API_URL) {\n  return new $resource(`${API_URL}/spaces/:id`, { id: '@id' }, {\n    update: { method: 'PUT' }\n  });\n}\n","angular.module('finalProject')\n.controller('SpacesIndexController', SpacesIndexController)\n.controller('SpacesNewController', SpacesNewController)\n.controller('SpacesShowController', SpacesShowController)\n.controller('SpacesEditController', SpacesEditController);\n\nSpacesIndexController.$inject = ['Space'];\nfunction SpacesIndexController(Space) {\n  const spacesIndex = this;\n\n  spacesIndex.all = Space.query();\n}\n\nSpacesNewController.$inject = ['Space', '$state', '$auth'];\nfunction SpacesNewController(Space, $state, $auth) {\n  const spacesNew = this;\n\n  spacesNew.spaces = {};\n  spacesNew.spaces.user_id = $auth.getPayload().id;\n\n  function create() {\n    Space.save(spacesNew.spaces, () => {\n      $state.go('spacesIndex');\n    });\n  }\n\n  spacesNew.create = create;\n}\n\nSpacesShowController.$inject = ['Space', 'User', '$state', '$auth'];\nfunction SpacesShowController(Space, User, $state , $auth) {\n  const spacesShow = this;\n\n  spacesShow.user = User.get({id: $auth.getPayload().id});\n\n  function deleteSpace(space) {\n    Space.remove({id: space.id}, () => {\n      $state.reload();\n    });\n  }\n\n  spacesShow.delete = deleteSpace;\n  spacesShow.isLoggedIn = $auth.isAuthenticated;\n}\n\nSpacesEditController.$inject = ['Space', '$state'];\nfunction SpacesEditController(Space, $state) {\n  const spacesEdit = this;\n\n  spacesEdit.space = Space.get($state.params);\n\n  function update() {\n    spacesEdit.space.$update(() => {\n      $state.go('spacesShow');\n    });\n  }\n\n  this.update = update;\n\n}\n","angular.module('finalProject')\n.factory('User', User);\n\nUser.$inject = ['$resource', 'API_URL'];\nfunction User($resource, API_URL) {\n  return new $resource(`${API_URL}/users/:id`, { id: '@id' }, {\n    update: { method: 'PUT' }\n  });\n}\n","angular.module('finalProject')\n  .controller('UserProfileController', UserProfileController)\n  .controller('UserEditController', UserEditController);\n\nUserProfileController.$inject = ['User', '$state', '$auth'];\nfunction UserProfileController(User, $state , $auth) {\n  const userProfile = this;\n\n  userProfile.user = User.get({id: $auth.getPayload().id});\n\n  function deleteUser() {\n    userProfile.user.$remove(() => {\n      $state.go('home');\n    });\n  }\n\n  userProfile.delete = deleteUser;\n  userProfile.isLoggedIn = $auth.isAuthenticated;\n}\n\nUserEditController.$inject = ['User', '$state', '$auth'];\nfunction UserEditController(User, $state, $auth) {\n  const userEdit = this;\n\n  userEdit.user = User.get({ id: $auth.getPayload().id });\n\n  function update() {\n    userEdit.user.$update(() => {\n      $state.go('userProfile', $state.params);\n    });\n  }\n\n  this.update = update;\n\n}\n"]}